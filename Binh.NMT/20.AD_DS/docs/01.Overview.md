# Tìm hiểu tổng quan về Active Directory Domain Services
Các công nghệ Truy cập và Định danh (Access and Identity) cho phép thiết lập môi trường Active Directory bảo mật cho cả hệ thống tại chỗ (on-premises), hệ thống thuần đám mây (cloud-only) và các triển khai lai (hybrid) – nơi mà một số ứng dụng và dịch vụ được lưu trữ trên đám mây, trong khi số khác được lưu trữ tại cơ sở của doanh nghiệp.
# 1. Tổng quan
Thư mục (Directory) là một cấu trúc phân cấp **dùng để lưu trữ thông tin về các đối tượng trên mạng**. Dịch vụ thư mục (Directory Service), ví dụ như Active Directory Domain Services (AD DS), cung cấp các **phương thức để lưu trữ dữ liệu thư mục** và làm cho dữ liệu này có sẵn cho người dùng mạng và quản trị viên.

**Ví dụ:** AD DS lưu trữ thông tin về các tài khoản người dùng như tên, mật khẩu, số điện thoại, v.v. AD DS cũng cung cấp cách thức để những người dùng được ủy quyền trên cùng một mạng có thể truy cập thông tin này.

AD DS sử dụng một kho lưu trữ dữ liệu có cấu trúc làm cơ sở cho việc tổ chức logic, phân cấp các thông tin thư mục. Kho lưu trữ dữ liệu này, còn được gọi là thư mục, chứa thông tin về các đối tượng AD DS. Các đối tượng này thường bao gồm các **tài nguyên dùng chung như máy chủ, ổ đĩa, máy in, cũng như các tài khoản người dùng và máy tính trong mạng**.

Bảo mật được tích hợp chặt chẽ với AD DS thông qua xác thực đăng nhập và kiểm soát truy cập vào các đối tượng trong thư mục. Chỉ với một tên đăng nhập và mật khẩu mạng duy nhất, quản trị viên có thể quản lý dữ liệu thư mục và tổ chức trên toàn bộ mạng lưới của họ, còn người dùng được ủy quyền có thể truy cập tài nguyên ở bất kỳ đâu trên mạng. Việc quản trị dựa trên chính sách (Policy-based administration) giúp đơn giản hóa việc quản lý ngay cả với những mạng phức tạp nhất.

![](/imgs/1.jpg)

# 2. Các thành phần logic chính của Active Directory 

| Thành phần logical | Mô tả |
|--------------------|-------|
| **Partition** | Partition (phân vùng) hay còn gọi là naming context, là một phần logic của cơ sở dữ liệu AD DS. Mặc dù cơ sở dữ liệu này chỉ bao gồm một tệp duy nhất có tên *Ntds.dit*, nhưng các phân vùng khác nhau lại chứa các dữ liệu khác nhau.<br><br>Ví dụ: Phân vùng **Schema** chứa một bản sao của Active Directory schema. **Domain partition** chứa các users, computers, groups, những objects đặc biệt trong domain. Bản copy của partition này có thể lưu trữ trên nhiều domain controllers và được cập nhật qua directory replication. Active Directory lưu trữ các bản sao của phân vùng trên nhiều bộ điều khiển miền và cập nhật chúng thông qua sao chép thư mục. |
| **Schema** | Schema là tập hợp các định nghĩa về các loại đối tượng và thuộc tính sử dụng để định nghĩa các đối tượng được tạo trong AD DS. |
| **Domain** | Domain là Logical Administrative Container cho các Object như User, Computer. Domain ánh xạ tới các phân vùng cụ thể và có thể được tổ chức với các domain khác có mối quan hệ cha–con (parent–child). |
| **Domain tree** | Domain Tree là tập hợp của nhiều Domain có chung Root Domain và liên kết DNS namespace. |
| **Forest** | Forest tập hợp của một hoặc nhiều miền có root AD DS chung Schema và được trust hai chiều. |
| **OU** | OU chứa người dùng (users), nhóm (groups) và máy tính (computer) được cung cấp bởi framework nhằm ủy quyền quản trị và được quản trị bằng cách liên kết các đối tượng chính sách nhóm (GPO). |
| **Container** | Container là object cung cấp các framework trong tổ chức nhằm mục đích sử dụng trong AD DS. Một vài containers mặc định được tạo hoặc bạn có thể tạo custom containers. Container không liên kết với GPOs. |


# 3. Các thành phần vật lý Chính của Active Directory

| Thành phần vật lý | Mô tả |
|------------------|-------|
| **Domain Controller** | Domain Controller chứa bản copy của database AD DS. Đối với hầu hết các hoạt động thì mỗi Domain Controller có thể xử lý các thay đổi và sao chép các thay đổi tới tất cả những Domain Controller khác trong domain. |
| **Data store** | Là bản copy lưu trữ data tồn tại trên mỗi domain controller. AD DS database sử dụng công nghệ Microsoft Jet và lưu trữ trực tiếp thông tin trên *Ntds.dit* và các log file. Files được lưu trữ tại đường dẫn `C:\Windows\NTDS`. |
| **Global catalog server** | Là một bộ điều khiển miền lưu trữ danh mục toàn cầu, đây là một bản sao cục bộ chỉ đọc của tất cả các đối tượng trong một rừng có nhiều miền. Danh mục toàn cầu giúp tăng tốc tìm kiếm các đối tượng có thể được lưu trữ trên các bộ điều khiển miền trong một miền khác trong rừng. |
| **Read-only Domain Controller (RODC)** | RODC là một cài đặt đặc biệt, chỉ đọc của AD DS. RODC thường được sử dụng ở các chi nhánh văn phòng nơi bảo mật vật lý không tối ưu, hạ tầng CNTT kém tiên tiến hơn so với trung tâm doanh nghiệp chính hoặc các ứng dụng theo ngành nghề cần chạy trên một bộ điều khiển miền. |
| **Site** | Địa điểm là một thùng chứa cho các đối tượng AD DS, chẳng hạn như máy tính và dịch vụ cụ thể cho một vị trí vật lý. Điều này khác với miền, đại diện cho cấu trúc logic của các đối tượng, chẳng hạn như người dùng và nhóm, bên cạnh máy tính. |
| **Subnet** | Mạng con là một phần của địa chỉ IP mạng của một tổ chức được gán cho các máy tính trong một địa điểm. Một địa điểm có thể có nhiều hơn một mạng con. |

Tài liệu tham khảo:

[1] (https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/get-started/virtual-dc/active-directory-domain-services-overview)

[2] (https://bknet.edu.vn/tong-quan-ve-active-directory-domain-services-2227.html)